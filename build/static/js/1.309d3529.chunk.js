webpackJsonp([1],{649:function(e,t,n){"use strict";function a(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function a(s,i){try{var o=t[s](i),r=o.value}catch(e){return void n(e)}if(!o.done)return Promise.resolve(r).then(function(e){a("next",e)},function(e){a("throw",e)});e(r)}return a("next")})}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var r=n(264),u=n.n(r),p=n(1),l=n.n(p),c=n(55),y=n(265),d=n.n(y),m=n(656),f=n.n(m),b=n(657),h=n.n(b),v=n(658),g=n.n(v),w=n(659),x=n(266),E=(n.n(x),n(660)),M=n.n(E),O=n(43),S=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),A=function(e){var t=e.color;return l.a.createElement("hr",{style:{color:t,backgroundColor:t,height:2}})},C={backgroundColor:"#202333"},I={color:"#e13a3e"},P={color:"#33ccdf"},k=function(e){function t(e){s(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.updateEscrow=function(e){n.setState({escrowID:e.target.value})},n.updateEscrow=n.updateEscrow.bind(n),n.escrowAddress=w.a,n.LANDaddress=w.b,n.LANDProxyAddress=w.c,n.MANAaddress=w.d,n.state={redirect:!1,isConnected:!1,manaApproved:!1,landApproved:!1,manaOwned:0,landOwned:0,estatesOwned:0,paused:null,fetchedLand:!1,fetchedEscrows:!1,openEscrowCount:0,escrowCounter:0,openedEscrowsArray:Array(),lands:[],escrowID:"",loadingStatement:"Connecting to the Ethereum Network...Make sure you are logged into Metamask"},n.web3=null,n.account="0x0",n.MANAContract=null,n.LANDContract=null,n}return o(t,e),S(t,[{key:"checkApprovals",value:function(){function e(){return t.apply(this,arguments)}var t=a(u.a.mark(function e(){var t,n,a,s,i;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("got here"),t=0,n=0,e.next=5,this.MANAContract.methods.allowance(this.account,this.escrowAddress).call(function(e,n){console.log(n),t=n});case 5:if(console.log(t),!(t>0)){e.next=12;break}return e.next=9,this.MANAContract.methods.balanceOf(this.account).call(function(e,t){n=t});case 9:n=this.web3.utils.fromWei(n,"ether"),e.next=13;break;case 12:this.setState({redirect:!0});case 13:return a=0,s=0,e.next=17,this.LANDContract.methods.isApprovedForAll(this.account,this.escrowAddress).call(function(e,t){a=t});case 17:if(!(a>0)){e.next=22;break}return e.next=20,this.LANDContract.methods.balanceOf(this.account).call(function(e,t){s=t});case 20:e.next=23;break;case 22:this.setState({redirect:!0});case 23:return e.next=25,this.LANDContract.methods.isApprovedForAll(this.account,this.escrowAddress).call(function(e,t){a=t});case 25:return console.log(this.ESCROWContract),i=0,e.next=29,this.ESCROWContract.methods.getEscrowCountById(this.account).call(function(e,t){i=t});case 29:this.setState({landApproved:!0,landOwned:s,manaApproved:!0,manaOwned:n,isConnected:!0,escrowCounter:i});case 30:case"end":return e.stop()}},e,this)}));return e}()},{key:"loadWeb3Provder",value:function(){function e(){return t.apply(this,arguments)}var t=a(u.a.mark(function e(){var t,n;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.web3=new d.a(d.a.givenProvider),null==this.web3&&console.log("oops"),console.log(this.web3),t="",e.next=6,this.web3.eth.getAccounts(function(e,n){t=n[0]});case 6:if(""!=t){e.next=10;break}this.setState({loadingStatement:"Please sign in to Metamask"}),e.next=22;break;case 10:if(this.account=t,null==this.account){e.next=21;break}return this.MANAContract=new this.web3.eth.Contract(f.a,this.MANAaddress),this.LANDContract=new this.web3.eth.Contract(h.a,this.LANDProxyAddress),this.ESCROWContract=new this.web3.eth.Contract(g.a,this.escrowAddress),n=!1,e.next=18,this.ESCROWContract.methods.paused().call(function(e,t){n=t});case 18:n?this.setState({paused:!0}):this.checkApprovals(),e.next=22;break;case 21:this.setState({loadingStatement:"Please sign in to Metamask"});case 22:case"end":return e.stop()}},e,this)}));return e}()},{key:"getOpenedEscrows",value:function(){function e(){return t.apply(this,arguments)}var t=a(u.a.mark(function e(){var t,n,a;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=Array(),n=0,console.log(this.state.escrowCounter),a=0;case 4:if(!(a<this.state.escrowCounter)){e.next=11;break}return e.next=7,this.ESCROWContract.methods.getEscrowInfo(this.account,a).call(function(e,a){console.log(a),"0x0000000000000000000000000000000000000000000000000000000000000000"!=a[0]&&(t.push({id:a[0],seller:a[1],buyer:a[2],price:a[3],offerPrice:a[4],isPublic:a[5],offersAllowed:a[6],escrowPosition:a[7],parcels:a[8]}),n+=1)});case 7:console.log(n);case 8:a++,e.next=4;break;case 11:this.setState({openedEscrowsArray:t,openEscrowCount:n,fetchedEscrows:!0});case 12:case"end":return e.stop()}},e,this)}));return e}()},{key:"componentDidMount",value:function(){console.log("Mounted component"),this.loadWeb3Provder()}},{key:"componentDidUpdate",value:function(){if(console.log("Render update"),console.log(this.state.openedEscrowsArray),this.state.isConnected&&(!this.state.manaApproved||!this.state.landApproved))return l.a.createElement(c.d,{to:"/settings"});this.state.fetchedEscrows||this.getOpenedEscrows()}},{key:"getEscrowstatus",value:function(){var e=this;return this.state.fetchedEscrows?this.state.openedEscrowsArray.map(function(t){return l.a.createElement(O.h,{xs:"12",sm:"12",lg:"3",key:t.id},l.a.createElement(O.e,{className:"text-white bg-gray-900"},l.a.createElement(O.f,{className:"pb-0"},l.a.createElement("div",null,l.a.createElement("h4",null,"Parcels: ",t.parcels)),l.a.createElement("div",null,l.a.createElement("h4",null,"Estates: 0")),l.a.createElement("div",{className:"chart-wrapper",style:{height:"40px"}}),l.a.createElement("div",null,l.a.createElement("h4",{style:I},"Escrow Price:"),l.a.createElement("h6",{style:P},l.a.createElement(M.a,{value:e.web3.utils.fromWei(t.price,"ether"),displayType:"text",thousandSeparator:!0})," MANA")),l.a.createElement("div",{className:"chart-wrapper",style:{height:"40px"}}),l.a.createElement("div",{col:"3",className:"mb-3 mb-xl-0 col-sm-4 col-md-2 col-xl"},l.a.createElement(c.b,{to:"/escrows/"+t.id},l.a.createElement("button",{className:"btn-pill btn-primary btn-lg btn-block"},"View Escrow"))),l.a.createElement("div",{className:"chart-wrapper",style:{height:"40px"}}))))}):l.a.createElement(O.h,{align:"center"},l.a.createElement("div",null,l.a.createElement("img",{src:n(654)})),l.a.createElement("div",null,l.a.createElement("h4",null,"Loading Your Escrows...")))}},{key:"getStartEscrowButon",value:function(){return console.log(this.state.landOwned),0==this.state.landOwned?null:l.a.createElement(O.h,{xs:"12",sm:"6",lg:"6"},l.a.createElement(O.e,null,l.a.createElement(O.f,null,l.a.createElement("div",{className:"chart-wrapper",style:{height:"15px"}}),l.a.createElement(c.b,{to:"/create"},l.a.createElement("button",{className:"btn btn-primary btn-lg btn-block"},"Start New Escrow")),l.a.createElement("div",{className:"chart-wrapper",style:{height:"15px"}}))))}},{key:"render",value:function(){return this.state.paused?l.a.createElement("div",{className:"animated fadeIn"},l.a.createElement("div",{style:{height:"25px"}}),l.a.createElement(O.s,null,l.a.createElement(O.h,{xs:"12",sm:"12",lg:"12",align:"center"},l.a.createElement("h3",{className:"display-4"},"DCL Escrow under maintenance..."))),l.a.createElement("div",{style:{height:"25px"}})):this.state.isConnected?this.state.manaApproved&&this.state.landApproved?this.state.redirect?l.a.createElement(c.d,{to:"/settings"}):l.a.createElement("div",{className:"animated fadeIn"},l.a.createElement("div",{style:{height:"25px"}}),l.a.createElement(O.s,null,l.a.createElement(O.h,{lg:"6"},l.a.createElement(O.s,null,l.a.createElement(O.h,{lg:"12"},l.a.createElement(O.e,{className:"text-white",style:C},l.a.createElement(O.f,{className:"pb-0"},l.a.createElement(O.s,null,l.a.createElement(O.h,{lg:"4"},l.a.createElement("div",{className:"text-value",style:P},l.a.createElement(M.a,{value:Math.round(this.state.manaOwned),displayType:"text",thousandSeparator:!0})),l.a.createElement("div",null,"MANA Owned")),l.a.createElement(O.h,{lg:"4"},l.a.createElement("div",{className:"text-value",style:I},l.a.createElement(M.a,{value:this.state.landOwned,displayType:"text",thousandSeparator:!0})),l.a.createElement("div",null,"LAND Owned")),l.a.createElement(O.h,{lg:"4"},l.a.createElement("div",{className:"text-value",style:I},"N/A"),l.a.createElement("div",null,"ESTATES COMING SOON")))),l.a.createElement("div",{className:"chart-wrapper mx-3",style:{height:"40px"}}))))),this.getStartEscrowButon()),l.a.createElement(O.s,null,l.a.createElement(O.h,{lg:"12"},l.a.createElement("h4",null,"Your Open Escrows ","("+this.state.openEscrowCount+")"),l.a.createElement(A,{color:"#e13a3e"}))),l.a.createElement(O.s,null,this.getEscrowstatus())):l.a.createElement(c.d,{to:"/settings"}):l.a.createElement("div",{className:"animated fadeIn"},l.a.createElement("div",{style:{height:"25px"}}),l.a.createElement(O.s,null,l.a.createElement(O.h,{xs:"12",sm:"12",lg:"12",align:"center"},l.a.createElement("h3",{className:"display-4"},"Loading Dashboard..."),l.a.createElement("div",null,l.a.createElement("img",{src:n(654)})))),l.a.createElement("div",{style:{height:"25px"}}))}}]),t}(p.Component);t.default=k},654:function(e,t,n){e.exports=n.p+"static/media/transactionpending.c2a023cb.gif"},656:function(e,t){e.exports=[{constant:!0,inputs:[],name:"mintingFinished",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"name",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_spender",type:"address"},{name:"_value",type:"uint256"}],name:"approve",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"totalSupply",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transferFrom",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"decimals",outputs:[{name:"",type:"uint8"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[],name:"unpause",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_to",type:"address"},{name:"_amount",type:"uint256"}],name:"mint",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_value",type:"uint256"}],name:"burn",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"paused",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"}],name:"balanceOf",outputs:[{name:"balance",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[],name:"finishMinting",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[],name:"pause",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"owner",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"symbol",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transfer",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"},{name:"_spender",type:"address"}],name:"allowance",outputs:[{name:"remaining",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{anonymous:!1,inputs:[{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"amount",type:"uint256"}],name:"Mint",type:"event"},{anonymous:!1,inputs:[],name:"MintFinished",type:"event"},{anonymous:!1,inputs:[],name:"Pause",type:"event"},{anonymous:!1,inputs:[],name:"Unpause",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"burner",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Burn",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Transfer",type:"event"}]},657:function(e,t){e.exports=[{constant:!0,inputs:[{name:"_interfaceID",type:"bytes4"}],name:"supportsInterface",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"proxyOwner",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"name",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"assetId",type:"uint256"}],name:"getApproved",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"operator",type:"address"},{name:"assetId",type:"uint256"}],name:"approve",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"x",type:"int256"},{name:"y",type:"int256"}],name:"ownerOfLand",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"user",type:"address"}],name:"setLatestToNow",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"totalSupply",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"x",type:"int256"},{name:"y",type:"int256"},{name:"beneficiary",type:"address"}],name:"assignNewParcel",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"x",type:"int256[]"},{name:"y",type:"int256[]"}],name:"ownerOfLandMany",outputs:[{name:"",type:"address[]"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"",type:"address"}],name:"latestPing",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"x",type:"int256[]"},{name:"y",type:"int256[]"},{name:"data",type:"string"}],name:"updateManyLandData",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"from",type:"address"},{name:"to",type:"address"},{name:"assetId",type:"uint256"}],name:"transferFrom",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"operator",type:"address"},{name:"assetId",type:"uint256"}],name:"isAuthorized",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"",type:"address"}],name:"authorizedDeploy",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"owner",type:"address"},{name:"index",type:"uint256"}],name:"tokenOfOwnerByIndex",outputs:[{name:"assetId",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"decimals",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"pure",type:"function"},{constant:!1,inputs:[{name:"beneficiary",type:"address"}],name:"authorizeDeploy",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"x",type:"int256"},{name:"y",type:"int256"},{name:"to",type:"address"}],name:"transferLand",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"from",type:"address"},{name:"to",type:"address"},{name:"assetId",type:"uint256"}],name:"safeTransferFrom",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"",type:"bytes"}],name:"initialize",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"x",type:"int256"},{name:"y",type:"int256"}],name:"landData",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"x",type:"int256[]"},{name:"y",type:"int256[]"},{name:"to",type:"address"}],name:"transferManyLand",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"assetId",type:"uint256"}],name:"exists",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"owner",type:"address"}],name:"tokensOf",outputs:[{name:"",type:"uint256[]"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[],name:"ping",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"assetId",type:"uint256"}],name:"ownerOf",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"GET_METADATA",outputs:[{name:"",type:"bytes4"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"operator",type:"address"},{name:"assetId",type:"uint256"}],name:"isUpdateAuthorized",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"assetId",type:"uint256"}],name:"tokenMetadata",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"x",type:"int256"},{name:"y",type:"int256"}],name:"encodeTokenId",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"pure",type:"function"},{constant:!0,inputs:[{name:"owner",type:"address"}],name:"balanceOf",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"currentContract",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"description",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"value",type:"uint256"}],name:"decodeTokenId",outputs:[{name:"",type:"int256"},{name:"",type:"int256"}],payable:!1,stateMutability:"pure",type:"function"},{constant:!1,inputs:[{name:"x",type:"int256[]"},{name:"y",type:"int256[]"},{name:"beneficiary",type:"address"}],name:"assignMultipleParcels",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"x",type:"int256[]"},{name:"y",type:"int256[]"},{name:"beneficiary",type:"address"},{name:"metadata",type:"string"}],name:"createEstateWithMetadata",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"owner",type:"address"}],name:"landOf",outputs:[{name:"",type:"int256[]"},{name:"",type:"int256[]"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"owner",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"registry",type:"address"}],name:"setEstateRegistry",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"symbol",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"",type:"uint256"}],name:"updateOperator",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"operator",type:"address"},{name:"authorized",type:"bool"}],name:"setApprovalForAll",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"x",type:"int256"},{name:"y",type:"int256"}],name:"exists",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"assetId",type:"uint256"},{name:"operator",type:"address"}],name:"setUpdateOperator",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"from",type:"address"},{name:"to",type:"address"},{name:"assetId",type:"uint256"},{name:"userData",type:"bytes"}],name:"safeTransferFrom",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"x",type:"int256[]"},{name:"y",type:"int256[]"},{name:"beneficiary",type:"address"}],name:"createEstate",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"x",type:"int256"},{name:"y",type:"int256"},{name:"data",type:"string"}],name:"updateLandData",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"estateRegistry",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"assetHolder",type:"address"},{name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"assetId",type:"uint256"}],name:"getApprovedAddress",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_newOwner",type:"address"}],name:"transferOwnership",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"x",type:"int256[]"},{name:"y",type:"int256[]"},{name:"estateId",type:"uint256"}],name:"transferManyLandToEstate",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"x",type:"int256"},{name:"y",type:"int256"},{name:"estateId",type:"uint256"}],name:"transferLandToEstate",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"beneficiary",type:"address"}],name:"forbidDeploy",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{anonymous:!1,inputs:[{indexed:!0,name:"registry",type:"address"}],name:"EstateRegistrySet",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"assetId",type:"uint256"},{indexed:!0,name:"holder",type:"address"},{indexed:!0,name:"operator",type:"address"},{indexed:!1,name:"data",type:"string"}],name:"Update",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"assetId",type:"uint256"},{indexed:!0,name:"operator",type:"address"}],name:"UpdateOperator",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!0,name:"assetId",type:"uint256"},{indexed:!1,name:"operator",type:"address"},{indexed:!1,name:"userData",type:"bytes"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!0,name:"assetId",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"operator",type:"address"},{indexed:!0,name:"holder",type:"address"},{indexed:!1,name:"authorized",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"operator",type:"address"},{indexed:!0,name:"assetId",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"_prevOwner",type:"address"},{indexed:!1,name:"_newOwner",type:"address"}],name:"OwnerUpdate",type:"event"}]},658:function(e,t){e.exports=[{constant:!1,inputs:[{name:"escrowId",type:"bytes32"}],name:"acceptEscrow",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"toWhitelist",type:"address"}],name:"addAddressWhitelist",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"escrowId",type:"bytes32"}],name:"adminRemoveEscrow",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[],name:"cancelAllEscrows",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"assedIds",type:"uint256[]"},{name:"escrowPrice",type:"uint256"},{name:"doesAcceptOffers",type:"bool"},{name:"isPublic",type:"bool"},{name:"buyer",type:"address"}],name:"createNewEscrow",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[],name:"destroy",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_recipient",type:"address"}],name:"destroyAndSend",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[],name:"pause",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"escrowId",type:"bytes32"},{name:"offerPrice",type:"uint256"}],name:"placeOffer",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"escrowId",type:"bytes32"}],name:"removeEscrow",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"publicationFee",type:"uint256"}],name:"setPublicationFee",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[],name:"unpause",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_acceptedToken",type:"address"},{name:"_nonFungibleRegistry",type:"address"}],name:"updateEscrow",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{inputs:[{name:"_acceptedToken",type:"address"},{name:"_nonFungibleRegistry",type:"address"}],payable:!1,stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!1,name:"id",type:"bytes32"},{indexed:!0,name:"seller",type:"address"},{indexed:!0,name:"buyer",type:"address"},{indexed:!1,name:"priceInWei",type:"uint256"},{indexed:!1,name:"acceptsOffers",type:"bool"},{indexed:!1,name:"publicE",type:"bool"},{indexed:!1,name:"parcels",type:"uint256"}],name:"EscrowCreated",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"id",type:"bytes32"},{indexed:!0,name:"seller",type:"address"},{indexed:!1,name:"totalPrice",type:"uint256"},{indexed:!0,name:"winner",type:"address"}],name:"EscrowSuccessful",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"id",type:"bytes32"},{indexed:!0,name:"seller",type:"address"}],name:"EscrowCancelled",type:"event"},{anonymous:!1,inputs:[],name:"Pause",type:"event"},{anonymous:!1,inputs:[],name:"Unpause",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"previousOwner",type:"address"},{indexed:!0,name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{constant:!0,inputs:[],name:"acceptedToken",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"",type:"uint256"}],name:"allEscrowIds",outputs:[{name:"",type:"bytes32"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"",type:"address"},{name:"",type:"uint256"}],name:"allOwnerParcelsOnEscrow",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"",type:"bytes32"},{name:"",type:"uint256"}],name:"assetIdByEscrowId",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"",type:"uint256"}],name:"escrowByAssetId",outputs:[{name:"id",type:"bytes32"},{name:"seller",type:"address"},{name:"buyer",type:"address"},{name:"price",type:"uint256"},{name:"offer",type:"uint256"},{name:"acceptsOffers",type:"bool"},{name:"publicE",type:"bool"},{name:"escrowByOwnerIdPos",type:"uint256"},{name:"parcelCount",type:"uint256"},{name:"highestBidder",type:"address"},{name:"lastOfferPrice",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"",type:"bytes32"}],name:"escrowByEscrowId",outputs:[{name:"id",type:"bytes32"},{name:"seller",type:"address"},{name:"buyer",type:"address"},{name:"price",type:"uint256"},{name:"offer",type:"uint256"},{name:"acceptsOffers",type:"bool"},{name:"publicE",type:"bool"},{name:"escrowByOwnerIdPos",type:"uint256"},{name:"parcelCount",type:"uint256"},{name:"highestBidder",type:"address"},{name:"lastOfferPrice",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"",type:"address"},{name:"",type:"uint256"}],name:"escrowByOwnerId",outputs:[{name:"id",type:"bytes32"},{name:"seller",type:"address"},{name:"buyer",type:"address"},{name:"price",type:"uint256"},{name:"offer",type:"uint256"},{name:"acceptsOffers",type:"bool"},{name:"publicE",type:"bool"},{name:"escrowByOwnerIdPos",type:"uint256"},{name:"parcelCount",type:"uint256"},{name:"highestBidder",type:"address"},{name:"lastOfferPrice",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"ownerAddress",type:"address"}],name:"getAllOwnedParcelsOnEscrow",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"escrowId",type:"bytes32"}],name:"getAssetByEscrowIdLength",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"ownerAddress",type:"address"}],name:"getEscrowCountByAssetIdArray",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"ownerAddress",type:"address"}],name:"getEscrowCountById",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"ownerAddress",type:"address"},{name:"index",type:"uint256"}],name:"getEscrowInfo",outputs:[{name:"",type:"bytes32"},{name:"",type:"address"},{name:"",type:"address"},{name:"",type:"uint256"},{name:"",type:"uint256"},{name:"",type:"bool"},{name:"",type:"bool"},{name:"",type:"uint256"},{name:"",type:"uint256"},{name:"",type:"address"},{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"ownerAddress",type:"address"},{name:"index",type:"uint256"}],name:"getParcelAssetIdOnEscrow",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"getPublicationFeeTotal",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"escrowId",type:"bytes32"},{name:"index",type:"uint256"}],name:"getSingleAssetByEscrowIdLength",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"index",type:"bytes32"}],name:"getSingleEscrowAdmin",outputs:[{name:"",type:"bytes32"},{name:"",type:"address"},{name:"",type:"address"},{name:"",type:"uint256"},{name:"",type:"uint256"},{name:"",type:"bool"},{name:"",type:"bool"},{name:"",type:"uint256"},{name:"",type:"uint256"},{name:"",type:"address"},{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"getTotalEscrowCount",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"nonFungibleRegistry",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"",type:"bytes32"}],name:"offersByEscrowId",outputs:[{name:"highestOffer",type:"address"},{name:"highestOfferPrice",type:"uint256"},{name:"previousOffer",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"",type:"address"}],name:"openedEscrowsByOwnerId",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"owner",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"",type:"address"}],name:"ownerEscrowsCounter",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"paused",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"publicationFeeInWei",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"",type:"address"}],name:"whitelistAddresses",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"whitelistCounter",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"}]},659:function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"d",function(){return s}),n.d(t,"c",function(){return i}),n.d(t,"b",function(){return o});var a="0x8180F8836BF47970225Fe96C1c2FBef6697B3223",s="0x0f5d2fb29fb7d3cfee444a200298f468908cc942",i="0xf87e31492faf9a91b02ee0deaad50d51d56d5d4d",o="0x46fbCfd32eA671CAa21897C09072CB6cb44C0bc9"},660:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function s(e){return(s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(){return i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},i.apply(this,arguments)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function u(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}function p(e,t){return!t||"object"!==s(t)&&"function"!==typeof t?d(e):t}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var m=a(n(3)),f=a(n(1)),b=n(661),h={thousandSeparator:m.default.oneOfType([m.default.string,m.default.oneOf([!0])]),decimalSeparator:m.default.string,decimalScale:m.default.number,fixedDecimalScale:m.default.bool,displayType:m.default.oneOf(["input","text"]),prefix:m.default.string,suffix:m.default.string,format:m.default.oneOfType([m.default.string,m.default.func]),removeFormatting:m.default.func,mask:m.default.oneOfType([m.default.string,m.default.arrayOf(m.default.string)]),value:m.default.oneOfType([m.default.number,m.default.string]),isNumericString:m.default.bool,customInput:m.default.func,allowNegative:m.default.bool,allowEmptyFormatting:m.default.bool,onValueChange:m.default.func,onKeyDown:m.default.func,onMouseUp:m.default.func,onChange:m.default.func,onFocus:m.default.func,onBlur:m.default.func,type:m.default.oneOf(["text","tel"]),isAllowed:m.default.func,renderText:m.default.func,getInputRef:m.default.func},v={displayType:"input",decimalSeparator:".",fixedDecimalScale:!1,prefix:"",suffix:"",allowNegative:!0,allowEmptyFormatting:!1,isNumericString:!1,type:"text",onValueChange:b.noop,onChange:b.noop,onKeyDown:b.noop,onMouseUp:b.noop,onFocus:b.noop,onBlur:b.noop,isAllowed:b.returnTrue,getInputRef:b.noop},g=function(e){function t(e){var n;o(this,t),n=p(this,l(t).call(this,e)),n.validateProps();var a=n.formatValueProp();return n.state={value:a,numAsString:n.removeFormatting(a)},n.selectionBeforeInput={selectionStart:0,selectionEnd:0},n.onChange=n.onChange.bind(d(d(n))),n.onKeyDown=n.onKeyDown.bind(d(d(n))),n.onMouseUp=n.onMouseUp.bind(d(d(n))),n.onFocus=n.onFocus.bind(d(d(n))),n.onBlur=n.onBlur.bind(d(d(n))),n}return c(t,e),u(t,[{key:"componentDidUpdate",value:function(e){this.updateValueIfRequired(e)}},{key:"updateValueIfRequired",value:function(e){var t=this.props,n=this.state;if(e!==t){this.validateProps();var a=n.value,s=n.numAsString||"",i=this.formatNumString(s),o=void 0===t.value?i:this.formatValueProp(),r=this.removeFormatting(o),u=parseFloat(r),p=parseFloat(s);(isNaN(u)&&isNaN(p)||u===p)&&i===a||this.setState({value:o,numAsString:r})}}},{key:"getFloatString",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=this.props.decimalScale,n=this.getSeparators(),a=n.decimalSeparator,s=this.getNumberRegex(!0),i="-"===e[0];i&&(e=e.replace("-","")),a&&0===t&&(e=e.split(a)[0]),e=(e.match(s)||[]).join("").replace(a,".");var o=e.indexOf(".");return-1!==o&&(e="".concat(e.substring(0,o),".").concat(e.substring(o+1,e.length).replace(new RegExp((0,b.escapeRegExp)(a),"g"),""))),i&&(e="-"+e),e}},{key:"getNumberRegex",value:function(e,t){var n=this.props,a=n.format,s=n.decimalScale,i=this.getSeparators(),o=i.decimalSeparator;return new RegExp("\\d"+(!o||0===s||t||a?"":"|"+(0,b.escapeRegExp)(o)),e?"g":void 0)}},{key:"getSeparators",value:function(){var e=this.props.decimalSeparator,t=this.props.thousandSeparator;return!0===t&&(t=","),{decimalSeparator:e,thousandSeparator:t}}},{key:"getMaskAtIndex",value:function(e){var t=this.props.mask,n=void 0===t?" ":t;return"string"===typeof n?n:n[e]||" "}},{key:"getValueObject",value:function(e,t){var n=parseFloat(t);return{formattedValue:e,value:t,floatValue:isNaN(n)?void 0:n}}},{key:"validateProps",value:function(){var e=this.props.mask,t=this.getSeparators(),n=t.decimalSeparator,a=t.thousandSeparator;if(n===a)throw new Error("\n          Decimal separator can't be same as thousand separator.\n          thousandSeparator: ".concat(a,' (thousandSeparator = {true} is same as thousandSeparator = ",")\n          decimalSeparator: ').concat(n," (default value for decimalSeparator is .)\n       "));if(e){if(("string"===e?e:e.toString()).match(/\d/g))throw new Error("\n          Mask ".concat(e," should not contain numeric character;\n        "))}}},{key:"setPatchedCaretPosition",value:function(e,t,n){(0,b.setCaretPosition)(e,t),setTimeout(function(){e.value===n&&(0,b.setCaretPosition)(e,t)},0)}},{key:"correctCaretPosition",value:function(e,t,n){var a=this.props,s=a.prefix,i=a.suffix,o=a.format;if(""===e)return 0;if(t=(0,b.clamp)(t,0,e.length),!o){var r="-"===e[0];return(0,b.clamp)(t,s.length+(r?1:0),e.length-i.length)}if("function"===typeof o)return t;if("#"===o[t]&&(0,b.charIsNumber)(e[t]))return t;if("#"===o[t-1]&&(0,b.charIsNumber)(e[t-1]))return t;var u=o.indexOf("#"),p=o.lastIndexOf("#");t=(0,b.clamp)(t,u,p+1);for(var l=o.substring(t,o.length).indexOf("#"),c=t,y=t+(-1===l?0:l);c>u&&("#"!==o[c]||!(0,b.charIsNumber)(e[c]));)c-=1;return!(0,b.charIsNumber)(e[y])||"left"===n&&t!==u||t-c<y-t?(0,b.charIsNumber)(e[c])?c+1:c:y}},{key:"getCaretPosition",value:function(e,t,n){var a,s,i=this.props.format,o=this.state.value,r=this.getNumberRegex(!0),u=(e.match(r)||[]).join(""),p=(t.match(r)||[]).join("");for(a=0,s=0;s<n;s++){var l=e[s]||"",c=t[a]||"";if((l.match(r)||l===c)&&("0"!==l||!c.match(r)||"0"===c||u.length===p.length)){for(;l!==t[a]&&a<t.length;)a++;a++}}return"string"!==typeof i||o||(a=t.length),a=this.correctCaretPosition(t,a)}},{key:"removePrefixAndSuffix",value:function(e){var t=this.props,n=t.format,a=t.prefix,s=t.suffix;if(!n&&e){var i="-"===e[0];i&&(e=e.substring(1,e.length)),e=a&&0===e.indexOf(a)?e.substring(a.length,e.length):e;var o=e.lastIndexOf(s);e=s&&-1!==o&&o===e.length-s.length?e.substring(0,o):e,i&&(e="-"+e)}return e}},{key:"removePatternFormatting",value:function(e){for(var t=this.props.format,n=t.split("#").filter(function(e){return""!==e}),a=0,s="",i=0,o=n.length;i<=o;i++){var r=n[i]||"",u=i===o?e.length:e.indexOf(r,a);if(-1===u){s=e;break}s+=e.substring(a,u),a=u+r.length}return(s.match(/\d/g)||[]).join("")}},{key:"removeFormatting",value:function(e){var t=this.props,n=t.format,a=t.removeFormatting;return e?(n?e="string"===typeof n?this.removePatternFormatting(e):"function"===typeof a?a(e):(e.match(/\d/g)||[]).join(""):(e=this.removePrefixAndSuffix(e),e=this.getFloatString(e)),e):e}},{key:"formatWithPattern",value:function(e){for(var t=this.props.format,n=0,a=t.split(""),s=0,i=t.length;s<i;s++)"#"===t[s]&&(a[s]=e[n]||this.getMaskAtIndex(n),n+=1);return a.join("")}},{key:"formatAsNumber",value:function(e){var t=this.props,n=t.decimalScale,a=t.fixedDecimalScale,s=t.prefix,i=t.suffix,o=t.allowNegative,r=this.getSeparators(),u=r.thousandSeparator,p=r.decimalSeparator,l=-1!==e.indexOf(".")||n&&a,c=(0,b.splitDecimal)(e,o),y=c.beforeDecimal,d=c.afterDecimal,m=c.addNegation;return void 0!==n&&(d=(0,b.limitToScale)(d,n,a)),u&&(y=y.replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+u)),s&&(y=s+y),i&&(d+=i),m&&(y="-"+y),e=y+(l&&p||"")+d}},{key:"formatNumString",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=this.props,n=t.format,a=t.allowEmptyFormatting,s=e;return""!==e||a?"-"!==e||n?s="string"===typeof n?this.formatWithPattern(s):"function"===typeof n?n(s):this.formatAsNumber(s):(s="-",e=""):s="",s}},{key:"formatValueProp",value:function(){var e=this.props,t=e.format,n=e.decimalScale,a=e.fixedDecimalScale,s=e.allowEmptyFormatting,i=this.props,o=i.value,r=i.isNumericString,u=!o&&0!==o;return u&&s&&(o=""),u&&!s?"":("number"===typeof o&&(o=o.toString(),r=!0),r&&!t&&"number"===typeof n&&(o=(0,b.roundToPrecision)(o,n,a)),r?this.formatNumString(o):this.formatInput(o))}},{key:"formatNegation",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=this.props.allowNegative,n=new RegExp("(-)"),a=new RegExp("(-)(.)*(-)"),s=n.test(e),i=a.test(e);return e=e.replace(/-/g,""),s&&!i&&t&&(e="-"+e),e}},{key:"formatInput",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.props.format||(e=this.formatNegation(e)),e=this.removeFormatting(e),this.formatNumString(e)}},{key:"isCharacterAFormat",value:function(e,t){var n=this.props,a=n.format,s=n.prefix,i=n.suffix,o=n.decimalScale,r=n.fixedDecimalScale,u=this.getSeparators(),p=u.decimalSeparator;return"string"===typeof a&&"#"!==a[e]||!(a||!(e<s.length||e>=t.length-i.length||o&&r&&t[e]===p))}},{key:"checkIfFormatGotDeleted",value:function(e,t,n){for(var a=e;a<t;a++)if(this.isCharacterAFormat(a,n))return!0;return!1}},{key:"correctInputValue",value:function(e,t,n){var a=this.props,s=a.format,i=a.decimalSeparator,o=a.allowNegative,r=a.prefix,u=a.suffix,p=this.state.numAsString||"",l=this.selectionBeforeInput,c=l.selectionStart,y=l.selectionEnd,d=(0,b.findChangedIndex)(t,n),m=d.start,f=d.end,h=s?0:r.length,v=t.length-(s?0:u.length);if(n.length>t.length||!n.length||m===f||0===c&&y===t.length||c===h&&y===v)return n;if(this.checkIfFormatGotDeleted(m,f,t)&&(n=t),!s){var g=this.removeFormatting(n),w=(0,b.splitDecimal)(g,o),x=w.beforeDecimal,E=w.afterDecimal,M=w.addNegation,O=e<n.indexOf(i)+1;if(g.length<p.length&&O&&""===x&&!parseFloat(E))return M?"-":""}return n}},{key:"onChange",value:function(e){e.persist();var t=e.target,n=t.value,a=this.state,s=this.props,i=s.isAllowed,o=a.value||"",r=Math.max(t.selectionStart,t.selectionEnd);n=this.correctInputValue(r,o,n);var u=this.formatInput(n)||"",p=this.removeFormatting(u),l=this.getValueObject(u,p);i(l)||(u=o),t.value=u;var c=this.getCaretPosition(n,u,r);this.setPatchedCaretPosition(t,c,u),u!==o?this.setState({value:u,numAsString:p},function(){s.onValueChange(l,e),s.onChange(e)}):s.onChange(e)}},{key:"onBlur",value:function(e){var t=this,n=this.props,a=this.state,s=n.format,i=n.onBlur,o=a.numAsString,r=a.value;if(!s){o=(0,b.fixLeadingZero)(o);var u=this.formatNumString(o);if(u!==r)return e.persist(),void this.setState({value:u,numAsString:o},function(){var a=t.getValueObject(u,o);n.onValueChange(a,e),i(e)})}i(e)}},{key:"onKeyDown",value:function(e){var t,n=this,a=e.target,s=e.key,i=a.selectionStart,o=a.selectionEnd,r=a.value,u=void 0===r?"":r,p=this.props,l=p.decimalScale,c=p.fixedDecimalScale,y=p.prefix,d=p.suffix,m=p.format,f=p.onKeyDown,b=p.onValueChange,h=void 0!==l&&c,v=this.getNumberRegex(!1,h),g=new RegExp("-"),w="string"===typeof m;if(this.selectionBeforeInput={selectionStart:i,selectionEnd:o},"ArrowLeft"===s||"Backspace"===s?t=i-1:"ArrowRight"===s?t=i+1:"Delete"===s&&(t=i),void 0===t||i!==o)return void f(e);var x=t,E=w?m.indexOf("#"):y.length,M=w?m.lastIndexOf("#")+1:u.length-d.length;if("ArrowLeft"===s||"ArrowRight"===s){var O="ArrowLeft"===s?"left":"right";x=this.correctCaretPosition(u,t,O)}else if("Delete"!==s||v.test(u[t])||g.test(u[t])){if("Backspace"===s&&!v.test(u[t]))if(i<=E+1&&"-"===u[0]&&"undefined"===typeof m){var S=u.substring(1),A=this.removeFormatting(S),C=this.getValueObject(S,A);e.persist(),this.setState({value:S,numAsString:A},function(){n.setPatchedCaretPosition(a,x,S),b(C,e)})}else if(!g.test(u[t])){for(;!v.test(u[x-1])&&x>E;)x--;x=this.correctCaretPosition(u,x,"left")}}else for(;!v.test(u[x])&&x<M;)x++;(x!==t||t<E||t>M)&&(e.preventDefault(),this.setPatchedCaretPosition(a,x,u)),e.isUnitTestRun&&this.setPatchedCaretPosition(a,x,u),this.props.onKeyDown(e)}},{key:"onMouseUp",value:function(e){var t=e.target,n=t.selectionStart,a=t.selectionEnd,s=t.value,i=void 0===s?"":s;if(n===a){var o=this.correctCaretPosition(i,n);o!==n&&this.setPatchedCaretPosition(t,o,i)}this.props.onMouseUp(e)}},{key:"onFocus",value:function(e){var t=this;e.persist(),setTimeout(function(){var n=e.target,a=n.selectionStart,s=n.selectionEnd,i=n.value,o=void 0===i?"":i,r=t.correctCaretPosition(o,a);r===a||0===a&&s===o.length||t.setPatchedCaretPosition(n,r,o),t.props.onFocus(e)},0)}},{key:"render",value:function(){var e=this.props,t=e.type,n=e.displayType,a=e.customInput,s=e.renderText,o=e.getInputRef,r=this.state.value,u=(0,b.omit)(this.props,h),p=i({},u,{type:t,value:r,onChange:this.onChange,onKeyDown:this.onKeyDown,onMouseUp:this.onMouseUp,onFocus:this.onFocus,onBlur:this.onBlur});if("text"===n)return s?s(r)||null:f.default.createElement("span",i({},u,{ref:o}),r);if(a){var l=a;return f.default.createElement(l,p)}return f.default.createElement("input",i({},p,{ref:o}))}}]),t}(f.default.Component);g.propTypes=h,g.defaultProps=v;var w=g;t.default=w,e.exports=t.default},661:function(e,t,n){"use strict";function a(){}function s(){return!0}function i(e){return!!(e||"").match(/\d/)}function o(e){return e.replace(/[-[\]\/{}()*+?.\\^$|]/g,"\\$&")}function r(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n="-"===e[0],a=n&&t;e=e.replace("-","");var s=e.split(".");return{beforeDecimal:s[0],afterDecimal:s[1]||"",hasNagation:n,addNegation:a}}function u(e){if(!e)return e;var t="-"===e[0];t&&(e=e.substring(1,e.length));var n=e.split("."),a=n[0].replace(/^0+/,"")||"0",s=n[1]||"";return"".concat(t?"-":"").concat(a).concat(s?".".concat(s):"")}function p(e,t,n){for(var a="",s=n?"0":"",i=0;i<=t-1;i++)a+=e[i]||s;return a}function l(e,t,n){if(-1!==["","-"].indexOf(e))return e;var a=-1!==e.indexOf(".")&&t,s=r(e),i=s.beforeDecimal,o=s.afterDecimal,u=s.hasNagation,l=parseFloat("0.".concat(o||"0")).toFixed(t).split("."),c=i.split("").reverse().reduce(function(e,t,n){return e.length>n?(Number(e[0])+Number(t)).toString()+e.substring(1,e.length):t+e},l[0]),y=p(l[1]||"",Math.min(t,o.length),n),d=u?"-":"",m=a?".":"";return"".concat(d).concat(c).concat(m).concat(y)}function c(e,t){var n={};return Object.keys(e).forEach(function(a){t[a]||(n[a]=e[a])}),n}function y(e,t){if(e.value=e.value,null!==e){if(e.createTextRange){var n=e.createTextRange();return n.move("character",t),n.select(),!0}return e.selectionStart||0===e.selectionStart?(e.focus(),e.setSelectionRange(t,t),!0):(e.focus(),!1)}}function d(e,t){for(var n=0,a=0,s=e.length,i=t.length;e[n]===t[n]&&n<s;)n++;for(;e[s-1-a]===t[i-1-a]&&i-a>n&&s-a>n;)a++;return{start:n,end:s-a}}function m(e,t,n){return Math.min(Math.max(e,t),n)}Object.defineProperty(t,"__esModule",{value:!0}),t.noop=a,t.returnTrue=s,t.charIsNumber=i,t.escapeRegExp=o,t.splitDecimal=r,t.fixLeadingZero=u,t.limitToScale=p,t.roundToPrecision=l,t.omit=c,t.setCaretPosition=y,t.findChangedIndex=d,t.clamp=m}});
//# sourceMappingURL=1.309d3529.chunk.js.map